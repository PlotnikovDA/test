#include <cmath>
#include <iomanip>
#include <iostream>
#include <vector>

int main() {
  int n = 0;
  int q = 0;
  const int cV = 15;
  std::cin >> n;
  std::vector<double> arr(n);
  std::vector<long double> pref(n + 1);
  pref[0] = 0;
  for (int i = 0; i < n; ++i) {
    std::cin >> arr[i];
    pref[i + 1] = pref[i] + std::log(arr[i]);
  }
  std::cin >> q;
  for (int i = 0; i < q; ++i) {
    int l = 0;
    int r = 0;
    std::cin >> l >> r;
    int len = r - l + 1;
    long double sm = pref[r + 1] - pref[l];
    long double k = std::exp(sm / len);
    std::cout << std::setprecision(cV) << k << '\n';
  }
}
